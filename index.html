<head>
<meta charset="utf-8"/>

<style>
body {
    margin: 0;
        padding: 0;

}
</style>
</head>

<body>

<audio id="soundz" src="radioaudio.mp3" autoplay></audio>
<audio id="soundz2" src="untitled.wav" autoplay></audio>
<canvas id="visualizer"></canvas>


    <script>
var audioCtx = new (window.AudioContext || window.webkitAudioContext)();



var analyser = audioCtx.createAnalyser();

var audioElement = document.getElementById("soundz");
var source = audioCtx.createMediaElementSource(audioElement);
source.connect(analyser);
analyser.connect(audioCtx.destination);

analyser.fftSize = 2048;
var bufferLength = analyser.frequencyBinCount;
var dataArray = new Float32Array(bufferLength);



var analyser2 = audioCtx.createAnalyser();

var audioElement2 = document.getElementById("soundz2");
var source2 = audioCtx.createMediaElementSource(audioElement2);
source2.connect(analyser2);
analyser2.connect(audioCtx.destination);

analyser2.fftSize = 2048;
var bufferLength2 = analyser.frequencyBinCount;
var dataArray2 = new Float32Array(bufferLength2);





var canvas = document.getElementById("visualizer");
var canvasCtx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

var WIDTH = canvas.width;
var HEIGHT = canvas.height;
canvasCtx.clearRect(0, 0, WIDTH, HEIGHT);

function draw() {
    drawVisual = requestAnimationFrame(draw);

    analyser.getFloatTimeDomainData(dataArray);
    analyser2.getFloatTimeDomainData(dataArray2);

    canvasCtx.fillStyle = 'rgb(200, 200, 200)';
    canvasCtx.fillRect(0, 0, WIDTH, HEIGHT);

    canvasCtx.lineWidth = 2;
    canvasCtx.strokeStyle = "green";
    canvasCtx.beginPath();

    var sliceWidth = WIDTH * 1.0 / bufferLength;
    var x = 0;

    for (var i = 0; i < bufferLength; i++) {
        var v = dataArray[i] * 200;
        var y = v + HEIGHT / 4;

        if (i === 0) {
            canvasCtx.moveTo(x, y);
        } else {
            canvasCtx.lineTo(x, y);
        }

        x += sliceWidth;
    }

    canvasCtx.lineTo(canvas.width, canvas.height / 4);
    canvasCtx.stroke();



    canvasCtx.strokeStyle = "blue";

    canvasCtx.beginPath();

    sliceWidth = WIDTH * 1.0 / bufferLength2;
    x = 0;

    for (var i = 0; i < bufferLength; i++) {
        var v = dataArray2[i] * 200;
        var y = v + HEIGHT / 4 * 3;

        if (i === 0) {
            canvasCtx.moveTo(x, y);
        } else {
            canvasCtx.lineTo(x, y);
        }

        x += sliceWidth;
    }

    canvasCtx.lineTo(canvas.width, canvas.height / 4 * 3);
    canvasCtx.stroke();
};

draw();
    </script>
</body>
